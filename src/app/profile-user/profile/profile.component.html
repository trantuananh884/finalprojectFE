<app-toolbar></app-toolbar>
<div class="container">
  <div class="row">
    <div class="col-md-6">
      <div style="display: flex">
        <img src="{{account.avatarURL}}" alt="Avatar" width="100%" height="100%" style="margin-left: 20%"
             style="border-radius: 50%; align-self: center">
      </div>
    </div>
    <div class="col-md-6">
      <br>
      <br>
      <br>
      <div style="margin-left: 30%">
        <div style="font-size: 15px">Full Name: {{account.firstName}} {{account.lastName}}</div>
        <br>
        <div style="font-size: 15px">DaySignup: {{account.createdAt}}</div>
        <br>
        <div style="font-size: 15px">Email: {{account.email}}</div>
        <br>
        <div style="font-size: 15px">Level: {{account.role[0].roleName}}</div>
      </div>
    </div>
  </div>
</div>


<div>
  <mat-card>
    <a href="#" data-target="#profile" data-toggle="modal"> Update profile
      <mat-icon>create</mat-icon>
    </a>
    <a href="#" data-target="#password" data-toggle="modal">Update password</a>
    <mat-icon>settings</mat-icon>
  </mat-card>
</div>
<!--profile-->
<div id="profile" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <br>
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <h1 style="color: red">Update profile</h1>
          </div>
        </div>
      </div>
      <div class="modal-body">
        <form [formGroup]="userForm">
          <table style="border: 1px solid black" align="center">
            <tr>
              <td>FirstName</td>
              <td><input id="firstName" type="text" formControlName="firstName"></td>
            </tr>
            <div><p *ngIf="userForm.controls['firstName'].hasError('required')" style="color:red">trường này bắt buộc
              nhập</p>
            </div>
            <div><p *ngIf="userForm.controls['firstName'].hasError('minlength')" style="color:red">độ dài input >
              3</p>
            </div>
            <tr>
              <td>LastName</td>
              <td><input type="text" formControlName="lastName"></td>
            </tr>
            <div><p *ngIf="userForm.controls['lastName'].hasError('required')" style="color:red">trường này bắt buộc
              nhập</p>
            </div>
            <div><p *ngIf="userForm.controls['lastName'].hasError('minlength')" style="color:red">độ dài input >
              3</p>
            </div>
            <tr>
              <td>Email</td>
              <td><textarea cols="30" rows="10" formControlName="email"></textarea></td>
            </tr>
            <div><p *ngIf="userForm.controls['email'].hasError('required')" style="color:red">trường này bắt buộc
              nhập</p></div>
            <div><p *ngIf="userForm.controls['email'].hasError('minlength')" style="color:red">độ dài input > 3</p>
            </div>
            <tr>
              <td></td>
              <td>
                <p>Choose your thumbnail picture</p>
                <app-firebase-upload (firebaseImageUrl)="getImageUrl($event)"></app-firebase-upload>
              </td>
            </tr>
          </table>
        </form>
      </div>
      <div class="modal-footer">
        <div class="col-md-12">
          <button class="btn btn-danger" data-dismiss="modal" aria-hidden="true" (click)="updateProfile()">Sửa
          </button>
        </div>
        <div class="col-md-6">
          <button class="btn btn-danger" data-dismiss="modal" aria-hidden="true">Cancel</button>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  $('#myModal').on('shown.bs.modal', function () {
    $('#myInput').trigger('focus')
  })
</script>

<!--password-->
<div id="password" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <br>
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <h1 style="color: red">Change Password</h1>
          </div>
        </div>
      </div>
      <div class="modal-body">
        <form [formGroup]="passwordForm">
          <table style="border: 1px solid black" align="center">
            <tr>
              <td>Password</td>
              <td><textarea cols="30" rows="10" formControlName="password"></textarea></td>
            </tr>
            <div><p *ngIf="passwordForm.controls['password'].hasError('required')" style="color:red"></p></div>
            <div><p *ngIf="passwordForm.controls['password'].hasError('minlength')" style="color:#ff0000"></p></div>
            <tr>
              <td colspan="2" align="center">
              </td>
            </tr>
          </table>
        </form>
      </div>
      <div class="modal-footer">
        <div class="col-md-12">
          <button class="btn btn-danger" data-dismiss="modal" aria-hidden="true" (click)="updatePassword()">Sửa
          </button>
        </div>
        <div class="col-md-6">
          <button class="btn btn-danger" data-dismiss="modal" aria-hidden="true">Cancel</button>
        </div>
      </div>
    </div>
  </div>
</div>

